---
layout: post
title: Topological Data Analysis
isEditable: false
categories: [Machine Learning]
date: 2019-04-27
---

<script src="/public/post_assets/tda/d3.min.js"></script>
<script src="/public/post_assets/tda/tsne.js"></script>
<script src="/public/post_assets/tda/demo-configs.js"></script>
<!-- <script src="figure-configs.js"></script> -->
<script src="/public/post_assets/tda/visualize.js"></script>
<script src="/public/post_assets/tda/complexes.js"></script>
<script src="/public/post_assets/tda/figures.js"></script>
<link href="/public/post_assets/tda/material-icons.css" rel="stylesheet">
<link rel="stylesheet" href="/public/post_assets/tda/playground.css">
<link rel="stylesheet" href="/public/post_assets/tda/post.css">


The overall goal of Topological Data Analysis (TDA) is to be able to analyze topological features of data sets, often through computations of topological properties such as homology or via visualization. Here I will focus on the former technique, known as **persistent homology**, but I will briefly touch on the visualization aspect. Before jumping into the mathematical aspects I'll first give an overview of some motivations for TDA by both offering it as an alternative to typical statistical tools as well as showing some of the unique capabilities of TDA.

<div>
\(
   \def\R{\mathbb R}
   \def\X{\mathbb X}
\)
</div>

# Motivations for Understanding Topological Properties of Data

In many sciences and other fields involving data collection and analysis, one can often consider two types of data analysis: qualitative and quantitative. Given a large and potentially complex data set \\(D\\), the task of qualitative data analysis is to investigate if \\(D\\) contains information you are looking for, and this is often performed via some type of visualization. If you then feel that \\(D\\) does contain desired information, then you can often proceed to applying a more quantitative technique for extracting that information, guided by your intuition from the qualitative analysis. I claim that common statistical techniques are very useful for both tasks, but on more complex data sets currently emerging in today's sciences can be inadequate, and that a topological approach may help. Let's look at some specific examples of both qualitative and quantitative data analysis, and motivate why topological techniques might help.

## Clustering and Dimensionality Reduction

Consider an experiment in which we have a population consisting of multiple bacteria species[^bio], and we would like to determine how many different species are present. To do so we can use a technique called [Raman spectroscopy](https://en.wikipedia.org/wiki/Raman_spectroscopy), which in summary shines a laser into your sample and records a emission spectra of the sample. In this paper 4 species with 1000 bacteria each were tested with Raman spectroscopy (giving 4000 spectra) with each spectra consisting of 1500 intensity measurements for wavelengths between 500 and 3500 \\(cm^{-1}\\). Mathematically this gives us 4000 points living in \\(\R^{1500}\\). Now we want to see if the spectra can actually be used to differentiate the 4 bacteria species. Unfortunately, visualization of \\(\R^{1500}\\) directly is not helpful, as the following plot of overlapping spectra shows:

<img src="/public/post_assets/tda/spectra.png" alt="raman spectra" class="center"/>

A very standard technique for reducing this high dimensional data down to a smaller dimension is [PCA](https://en.wikipedia.org/wiki/Principal_component_analysis) (Principle Components Analysis) which finds the linear projection which maximizes the variance. Using PCA to project \\(\R^{1500}\\) to \\(\R^2\\) gives the following plot, with colors indicating the previously known species:

<img src="/public/post_assets/tda/raman_pca.png" alt="raman pca" class="center"/>

PCA has provided some useful information, but not so much as we would like. This linear projection shows that some differentiation of species using the spectra is possible, but unfortunately PCA can not be used to differentiate the blue and light blue samples as they strongly overlap. Any typical algorithm used to identify clusters (such as [k-means clustering](https://en.wikipedia.org/wiki/K-means_clustering#Standard_algorithm)) would fail to isolate 4 clusters. The original data in \\(\R^{1500}\\) probably contains the information necessary to differentiate all 4 species, but we can't visualize it well directly. On the other hand linearly projecting to a low dimension destroys the useful information we want. Projecting to a higher dimensional space like \\(\R^3\\) or using non-linear dimensionality reductions such as t-SNE [^tsne] or diffusion maps [^diff] might or might not work better, but at the end of the day can run into the same limitations. Using topology we can take a different approach: *imagine we can regard the data as a manifold \\(M \subseteq \R^{1500}\\)*; then detecting the number of different species (clusters) corresponds to determining the number of connected components of \\(M\\). Using TDA techniques we can determine the number of connected components in the original data set, *without having to project to lower-dimensions*. This type of clustering analysis is applicable to a huge number of problems, not just in the biological domain.

## Understanding Higher-Dimensional Topological Features of Primary Visual Cortex of Monkeys

However, TDA can be used for more than just inspecting connected components. One particularly interesting application of TDA to neuroscience is discussed in section 2.5 of Carlsson [^car]. In an experiment a 10x10 array of electrodes were implanted in the Primary Visual Cortex of Macaque monkeys, while the monkeys viewed either a blank screen or some movie clips. A bunch of signal processing techniques were applied to the voltage sequences, eventually resulting in a collection of data sets, each consisting of 200 data points lying in \\(\R^5\\). Each such data set \\(X_i \subseteq \R^5\\) corresponds to the monkey looking at either a blank screen or movie clips, for a 10 second window. Each point \\(p \in X_i \subseteq \R^5\\) are the 5 voltages during a 50ms window of the top 5 activated neurons in the 10 second window associated to \\(X_i\\). So we have many such \\(X_i \subseteq \R^5\\), of which some correspond to watching blank screens and others correspond to watching movie clips.

The task now is to differentiate the \\(X_i\\)'s based on blank screen vs. movie clips. Given some \\(X_i\\), *if we can view \\(X_i\\) as a topological space*, then we can apply the algebraic topology tool of homology to compute the Betti numbers of \\(X_i\\). In this study the first 3 Betti numbers \\((\beta_0, \beta_1, \beta_2)\\) were computed for each \\(X_i\\). By a vast margin the most common Betti numbers were \\(a = (1, 1, 0)\\) and \\(b = (1, 0, 1)\\), corresponding to the topology of a circle and a sphere. Finally Betti numbers were computed for data sets generated by random firings according a Poisson model (i.e. the null hypothesis). The distribution of Betti numbers is easily able to distinguish all three modes (blank screen, movie clips, random Poisson model) from each other. In addition since \\(a\\) and \\(b\\) were the most common Betti numbers for both blank screen and movie clip modes, this suggests that the primary visual cortex seems to naturally operate using the topology of circles and spheres, but the reason for this topological phenomenon is not yet known.

# Point Clouds and Simplicial Complexes

In both of the examples above and in nearly all data analysis settings one has a discrete finite data set \\(X\\). Often \\(X \subseteq \R^n\\), but more generally we consider \\(X\\) to be some discrete finite metric space (for example in comparing DNA sequences one can define a distance metric between sequences which is non-Euclidean). 



<!-- but we can take a different approach topologically.  -->

<!-- ![raman_spectra](/public/post_assets/tda/spectra.png) -->

<!-- <div id="playground"><div id="playground-canvas"></div><div id="data-menu"></div><div id="data-details"><div id="data-controls"><div id="data-options"></div><div id="tsne-options"></div></div><div id="data-description"><span></span></div></div></div>
<script src="/public/post_assets/tda/playground.js"></script> -->

# Topological Data Analysis2


# Topological Data Analysis3

<!-- Hello!! -->

[^bio]: https://www.sciencedirect.com/science/article/pii/S0003267016300137
[^tsne]: http://www.jmlr.org/papers/volume9/vandermaaten08a/vandermaaten08a.pdf
[^diff]: https://www.sciencedirect.com/science/article/pii/S1063520306000546